{"file":"_slug_-OJs1TL1Z.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmMA,UAAM,QAAQ,SAAA;AACd,UAAM,OAAO,aAAA;AACb,UAAM,EAAE,MAAM,QAAA,IAAY,WAAA;AAE1B,UAAM,YAAY,IAA4B,IAAI;AAClD,UAAM,gBAAgB,IAAI,KAAK;AAC/B,UAAM,cAAc,IAAI,KAAK;AAC7B,UAAM,QAAQ,IAAgB,EAAE;AAChC,UAAM,UAAU,IAAI,KAAK;AACzB,UAAM,cAAc,IAAI,CAAC;AACzB,UAAM,gBAAgB,IAAI,KAAK;AAE/B,UAAM,WAAW,SAAS;AAAA,MACxB,OAAO;AAAA,MACP,MAAM;AAAA,MACN,QAAQ,CAAA;AAAA,IAAC,CACV;AAED,UAAM,WAAW,SAAS,MAAM,QAAQ,UAAU,OAAO,YAAY,CAAC;AAEtE,UAAM,eAAe,SAAS,MAAM;AAClC,UAAI,UAAU,OAAO,cAAc,CAAC,SAAS,OAAO;AAClD,eAAO;AAAA,MACT;AACA,aAAO;AAAA,IACT,CAAC;AAED,UAAM,iBAAiB,YAAY;AACjC,UAAI;AACF,cAAM,EAAE,KAAA,IAAS,MAAM,KAAK,IAAI,0BAA0B,MAAM,OAAO,IAAI,GAAG;AAC9E,kBAAU,QAAQ;AAAA,MACpB,SAAS,OAAO;AACd,gBAAQ,MAAM,YAAY,KAAK;AAC/B,kBAAU,QAAQ;AAAA,MACpB;AAAA,IACF;AAEA,UAAM,aAAa,OAAO,OAAO,GAAG,SAAS,UAAU;AACrD,kBAAY,QAAQ;AACpB,UAAI;AACF,cAAM,EAAE,KAAA,IAAS,MAAM,KAAK,IAAI,qBAAqB;AAAA,UACnD,QAAQ,EAAE,WAAW,MAAM,OAAO,MAAM,KAAA;AAAA,QAAK,CAC9C;AACD,cAAM,UAAU,MAAM,QAAQ,IAAI,IAAI,OAAO,KAAK,WAAW,CAAA;AAC7D,YAAI,QAAQ;AACV,gBAAM,QAAQ,CAAC,GAAG,MAAM,OAAO,GAAG,OAAO;AAAA,QAC3C,OAAO;AACL,gBAAM,QAAQ;AAAA,QAChB;AACA,gBAAQ,QAAQ,QAAQ,MAAM,IAAI;AAClC,oBAAY,QAAQ;AAAA,MACtB,SAAS,OAAO;AACd,gBAAQ,MAAM,YAAY,KAAK;AAC/B,YAAI,CAAC,OAAQ,OAAM,QAAQ,CAAA;AAAA,MAC7B,UAAA;AACE,oBAAY,QAAQ;AAAA,MACtB;AAAA,IACF;AAEA,UAAM,gBAAgB,YAAY;AAChC,UAAI,CAAC,KAAK,iBAAiB;AACzB,QAAA,SAAO,MAAM,YAAY;AACzB;AAAA,MACF;AACA,oBAAc,QAAQ;AACtB,UAAI;AACF,cAAM,KAAK,KAAK,0BAA0B,MAAM,OAAO,IAAI,QAAQ;AACnE,cAAM,eAAA;AACN,cAAM,WAAA;AACN,QAAA,SAAO,MAAM,OAAO;AAAA,MACtB,SAAS,OAAO;AACd,gBAAQ,MAAM,UAAU,KAAK;AAC7B,QAAA,SAAO,MAAM,YAAY;AAAA,MAC3B,UAAA;AACE,sBAAc,QAAQ;AAAA,MACxB;AAAA,IACF;AAEA,UAAM,iBAAiB,YAAY;AACjC,oBAAc,QAAQ;AACtB,UAAI;AACF,cAAM,KAAK,KAAK,0BAA0B,MAAM,OAAO,IAAI,SAAS;AACpE,cAAM,eAAA;AACN,cAAM,WAAA;AACN,QAAA,SAAO,MAAM,OAAO;AAAA,MACtB,SAAS,OAAO;AACd,gBAAQ,MAAM,UAAU,KAAK;AAC7B,QAAA,SAAO,MAAM,YAAY;AAAA,MAC3B,UAAA;AACE,sBAAc,QAAQ;AAAA,MACxB;AAAA,IACF;AAEA,UAAM,mBAAmB,CAAC,UAAiB;AACzC,YAAM,SAAS,MAAM;AACrB,eAAS,SAAS,MAAM,KAAK,OAAO,SAAS,EAAE;AAAA,IACjD;AAEA,UAAM,aAAa,YAAY;AAC7B,UAAI,CAAC,SAAS,MAAM,KAAA,KAAU,CAAC,SAAS,KAAK,OAAQ;AACrD,oBAAc,QAAQ;AACtB,UAAI;AACF,cAAM,WAAW,IAAI,SAAA;AACrB,iBAAS,OAAO,aAAa,OAAO,UAAU,OAAO,MAAM,EAAE,CAAC;AAC9D,iBAAS,OAAO,SAAS,SAAS,KAAK;AACvC,iBAAS,OAAO,QAAQ,SAAS,IAAI;AACrC,iBAAS,OAAO,QAAQ,CAAC,SAAS,SAAS,OAAO,UAAU,IAAI,CAAC;AACjE,cAAM,KAAK,KAAK,qBAAqB,UAAU;AAAA,UAC7C,SAAS,EAAE,gBAAgB,sBAAA;AAAA,QAAsB,CAClD;AACD,iBAAS,QAAQ;AACjB,iBAAS,OAAO;AAChB,iBAAS,SAAS,CAAA;AAClB,cAAM,WAAA;AACN,QAAA,SAAO,MAAM,OAAO;AAAA,MACtB,SAAS,OAAO;AACd,gBAAQ,MAAM,UAAU,KAAK;AAC7B,cAAM,aAAa;AACnB,QAAA,SAAO,MAAM,WAAW,UAAU,MAAM,UAAU,YAAY;AAAA,MAChE,UAAA;AACE,sBAAc,QAAQ;AAAA,MACxB;AAAA,IACF;AAEA,UAAM,aAAa,OAAO,SAAmB;AAC3C,UAAI,CAAC,KAAK,iBAAiB;AACzB,QAAA,SAAO,MAAM,UAAU;AACvB;AAAA,MACF;AACA,UAAI;AACF,cAAM,EAAE,SAAS,MAAM,KAAK,KAAK,oBAAoB,KAAK,EAAE,QAAQ;AACpE,aAAK,WAAW,QAAQ,MAAM,KAAK;AACnC,YAAI,OAAO,MAAM,eAAe,UAAU;AACxC,eAAK,aAAa,KAAK;AAAA,QACzB;AAAA,MACF,SAAS,OAAO;AACd,gBAAQ,MAAM,QAAQ,KAAK;AAAA,MAC7B;AAAA,IACF;AAEA,UAAM,WAAW,MAAM;AACrB,UAAI,CAAC,QAAQ,SAAS,YAAY,MAAO;AACzC,iBAAW,YAAY,QAAQ,GAAG,IAAI;AAAA,IACxC;AAEA,UAAM,eAAe,MAAM,WAAW,GAAG,KAAK;AAE9C,UAAM,eAAe,CAAC,SAAiB;AACrC,UAAI,CAAC,KAAM,QAAO;AAClB,UAAI,KAAK,WAAW,MAAM,EAAG,QAAO;AACpC,YAAM,OAAO,QAAQ,OAAO,SAAS,QAAQ,OAAO,EAAE,KAAK;AAC3D,aAAO,GAAG,IAAI,GAAG,IAAI;AAAA,IACvB;AAEA,UAAM,aAAa,CAAC,UAAmB;AACrC,UAAI,CAAC,MAAO,QAAO;AACnB,UAAI;AACF,eAAO,IAAI,KAAK,KAAK,EAAE,eAAe,SAAS;AAAA,UAC7C,OAAO;AAAA,UACP,KAAK;AAAA,UACL,MAAM;AAAA,UACN,QAAQ;AAAA,QAAA,CACT;AAAA,MACH,SAAS,OAAO;AACd,eAAO;AAAA,MACT;AAAA,IACF;AAEA;AAAA,MACE,MAAM,MAAM,OAAO;AAAA,MACnB,YAAY;AACV,cAAM,eAAA;AACN,cAAM,WAAA;AAAA,MACR;AAAA,MACA,EAAE,WAAW,KAAA;AAAA,IAAK;;;;;;;;;;;;;;;AAhXb,YAAA,OAAAA,eAAAC,WAAA,EAAA,OAAM,eAAW,MAAA,CAAA,CAAA,wEAAA;UAEPC,MAAA,SAAA,GAAS;gKAGwBC,eAAAD,MAAA,SAAA,EAAU,IAAI,iEACOC,eAAAD,MAAA,SAAA,EAAU,eAAW,YAAA;;UAIxE,MAAK;AAAA,UAAe,OAAM;AAAA,QAAA;AAC7B,cAAA,IAAAC,eAAAD,MAAA,SAAA,EAAU,aAAa,CAAA,cAAA;AAEhB,YAAAA,MAAA,SAAA,EAAU,YAAU;;;YACxB,MAAK;AAAA,YAAc,OAAM;AAAA,UAAA;;;;;AAGpB,YAAAA,MAAA,SAAA,EAAU,iBAAY,aAAA;AAAkB,gBAAAE,mBAAA,kBAAA,EAAA,SAAQ,aAAS;AAAA,6BAAtE,CAAoF,GAAAC,QAAAC,UAAA,aAAA;;;;;kCAAb,OAAK;AAAA,gBAAA;AAAA;;;;;;;;aAI/DJ,MAAA,QAAA,GAAQ;;YAAG,UAAUA,MAAA,aAAA;AAAA,YAAgB,SAAO;AAAA,UAAA;6BAA3D,CAES,GAAAG,QAAAC,UAAA,aAAA;;yCADJJ,MAAA,aAAA,IAAa,SAAA,MAAA,CAAA,EAAA;AAAA;;kDAAbA,MAAA,aAAA,IAAa,SAAA,MAAA,GAAA,CAAA;AAAA,gBAAA;AAAA;;;;;;YAEH,SAAQ;AAAA,YAAW,UAAUA,MAAA,aAAA;AAAA,YAAgB,SAAO;AAAA,UAAA;6BAAnE,CAES,GAAAG,QAAAC,UAAA,aAAA;;yCADJJ,MAAA,aAAA,IAAa,SAAA,MAAA,CAAA,EAAA;AAAA;;kDAAbA,MAAA,aAAA,IAAa,SAAA,MAAA,GAAA,CAAA;AAAA,gBAAA;AAAA;;;;;;UAER,IAAG;AAAA,UAAa,OAAM;AAAA,QAAA;2BAAhC,CAEW,GAAAG,QAAAC,UAAA,aAAA;;;;;gCAF2E,UAEtF;AAAA,cAAA;AAAA;;;;;;;;;UAQUJ,MAAA,IAAA,EAAK,mBAAmBA,MAAA,QAAA,GAAQ;AAAE,cAAAE,mBAAA,iBAAA,EAAA,OAAM,6BAAyB;AAAA,2BAA7E,CA2BO,GAAAC,QAAAC,UAAA,aAAA;;;iCA1BL,CAGaC,IAAAF,QAAAC,UAAAE,cAAA;;;uCAFX,CAA4BD,IAAAF,QAAAC,UAAAE,cAAA;;;;;4CAAjB,OAAK;AAAA,0BAAA;AAAA;;;;;uCAChB,CAA8CD,IAAAF,QAAAC,UAAAE,cAAA;;;;;4CAA7B,aAAW;AAAA,0BAAA;AAAA;;;;;;sBAD5BC,YAA4B,sBAAA,MAAA;AAAA,yCAAjB,MAAK;AAAA,0CAAL,OAAK;AAAA,wBAAA;;;sBAChBA,YAA8C,4BAAA,MAAA;AAAA,yCAA7B,MAAW;AAAA,0CAAX,aAAW;AAAA,wBAAA;;;;;;;;;iCAE9B,CAqBcF,IAAAF,QAAAC,UAAAE,cAAA;;;AAlBDH,2BAAAD,mBAAA,kBAAA,EAAA,KAAI,WAAO;AAAA,uCAAlB,CAA6BG,IAAAF,QAAAC,UAAAE,cAAA;;;;;4CAAV,IAAE;AAAA,0BAAA;AAAA;;;;;sBACd,IAAG;AAAA,sBAAiB,YAAAN,MAAA,QAAA,EAAS;AAAA,sBAAT,uBAAA,CAAA,WAAAA,MAAA,QAAA,EAAS,QAAK;AAAA,sBAAE,aAAY;AAAA,sBAAY,UAAA;AAAA,oBAAA;;AAG5DG,2BAAAD,mBAAA,kBAAA,EAAA,KAAI,UAAM;AAAA,uCAAjB,CAA4BG,IAAAF,QAAAC,UAAAE,cAAA;;;;;4CAAV,IAAE;AAAA,0BAAA;AAAA;;;;;sBACV,IAAG;AAAA,sBAAgB,YAAAN,MAAA,QAAA,EAAS;AAAA,sBAAT,uBAAA,CAAA,WAAAA,MAAA,QAAA,EAAS,OAAI;AAAA,sBAAE,MAAK;AAAA,sBAAI,aAAY;AAAA,sBAAc,UAAA;AAAA,oBAAA;;AAGxEG,2BAAAD,mBAAA,kBAAA,EAAA,OAAM,0DAAsD;AAAA,uCAAnE,CAAoFG,IAAAF,QAAAC,UAAAE,cAAA;;;;;4CAAhB,UAAQ;AAAA,0BAAA;AAAA;;;;;wBAEnEN,MAAA,QAAA,EAAS,OAAO,QAAM;6GAAoDA,MAAA,QAAA,EAAS,OAAO,MAAM;;;;;;sBAGjG,MAAK;AAAA,sBAAU,UAAUA,MAAA,aAAA;AAAA,oBAAA;uCAAjC,CAESK,IAAAF,QAAAC,UAAAE,cAAA;;mDADJN,MAAA,aAAA,IAAa,SAAA,IAAA,CAAA,EAAA;AAAA;;4DAAbA,MAAA,aAAA,IAAa,SAAA,IAAA,GAAA,CAAA;AAAA,0BAAA;AAAA;;;;;;;sBAhBtBO,YAmBO,QAAA;AAAA,wBAnBD,OAAM;AAAA,wBAAa,wBAAgB,YAAU,CAAA,SAAA,CAAA;AAAA,sBAAA;wBACjDA,YAGM,OAAA,MAAA;AAAA,0BAFJA,YAA6B,kBAAA,EAAtB,KAAI,WAAO;AAAA,6CAAC,MAAE;AAAA,8CAAF,IAAE;AAAA,4BAAA;;;0BACrBA,YAA8E,kBAAA;AAAA,4BAAvE,IAAG;AAAA,4BAAiB,YAAAP,MAAA,QAAA,EAAS;AAAA,4BAAT,uBAAA,CAAA,WAAAA,MAAA,QAAA,EAAS,QAAK;AAAA,4BAAE,aAAY;AAAA,4BAAY,UAAA;AAAA,0BAAA;;wBAErEO,YAGM,OAAA,MAAA;AAAA,0BAFJA,YAA4B,kBAAA,EAArB,KAAI,UAAM;AAAA,6CAAC,MAAE;AAAA,8CAAF,IAAE;AAAA,4BAAA;;;0BACpBA,YAA0F,qBAAA;AAAA,4BAAhF,IAAG;AAAA,4BAAgB,YAAAP,MAAA,QAAA,EAAS;AAAA,4BAAT,uBAAA,CAAA,WAAAA,MAAA,QAAA,EAAS,OAAI;AAAA,4BAAE,MAAK;AAAA,4BAAI,aAAY;AAAA,4BAAc,UAAA;AAAA,0BAAA;;wBAEjFO,YAIM,OAAA,MAAA;AAAA,0BAHJA,YAAoF,kBAAA,EAA7E,OAAM,0DAAsD;AAAA,6CAAC,MAAQ;AAAA,8CAAR,UAAQ;AAAA,4BAAA;;;0BAC5EA,YAAiG,SAAA;AAAA,4BAA1F,MAAK;AAAA,4BAAO,UAAA;AAAA,4BAAS,QAAO;AAAA,4BAAU,OAAM;AAAA,4BAAkB,UAAQ;AAAA,0BAAA;0BACpEP,MAAA,QAAA,EAAS,OAAO,uBAAzBQ,YAAoH,KAAA;AAAA;4BAAnF,OAAM;AAAA,0BAAA,GAAqC,yBAAOR,MAAA,QAAA,EAAS,OAAO,MAAM,IAAG,QAAI,CAAA;;wBAElHO,YAIM,OAAA,EAJD,OAAM,sBAAkB;AAAA,0BAC3BA,YAES,mBAAA;AAAA,4BAFD,MAAK;AAAA,4BAAU,UAAUP,MAAA,aAAA;AAAA,0BAAA;6CAC/B,MAAmC;AAAA,8DAAhCA,MAAA,aAAA,IAAa,SAAA,IAAA,GAAA,CAAA;AAAA,4BAAA;;;;;;;;;;;;gBArBxBO,YAGa,uBAAA,MAAA;AAAA,mCAFX,MAA4B;AAAA,oBAA5BA,YAA4B,sBAAA,MAAA;AAAA,uCAAjB,MAAK;AAAA,wCAAL,OAAK;AAAA,sBAAA;;;oBAChBA,YAA8C,4BAAA,MAAA;AAAA,uCAA7B,MAAW;AAAA,wCAAX,aAAW;AAAA,sBAAA;;;;;;gBAE9BA,YAqBc,wBAAA,MAAA;AAAA,mCApBZ,MAmBO;AAAA,oBAnBPA,YAmBO,QAAA;AAAA,sBAnBD,OAAM;AAAA,sBAAa,wBAAgB,YAAU,CAAA,SAAA,CAAA;AAAA,oBAAA;sBACjDA,YAGM,OAAA,MAAA;AAAA,wBAFJA,YAA6B,kBAAA,EAAtB,KAAI,WAAO;AAAA,2CAAC,MAAE;AAAA,4CAAF,IAAE;AAAA,0BAAA;;;wBACrBA,YAA8E,kBAAA;AAAA,0BAAvE,IAAG;AAAA,0BAAiB,YAAAP,MAAA,QAAA,EAAS;AAAA,0BAAT,uBAAA,CAAA,WAAAA,MAAA,QAAA,EAAS,QAAK;AAAA,0BAAE,aAAY;AAAA,0BAAY,UAAA;AAAA,wBAAA;;sBAErEO,YAGM,OAAA,MAAA;AAAA,wBAFJA,YAA4B,kBAAA,EAArB,KAAI,UAAM;AAAA,2CAAC,MAAE;AAAA,4CAAF,IAAE;AAAA,0BAAA;;;wBACpBA,YAA0F,qBAAA;AAAA,0BAAhF,IAAG;AAAA,0BAAgB,YAAAP,MAAA,QAAA,EAAS;AAAA,0BAAT,uBAAA,CAAA,WAAAA,MAAA,QAAA,EAAS,OAAI;AAAA,0BAAE,MAAK;AAAA,0BAAI,aAAY;AAAA,0BAAc,UAAA;AAAA,wBAAA;;sBAEjFO,YAIM,OAAA,MAAA;AAAA,wBAHJA,YAAoF,kBAAA,EAA7E,OAAM,0DAAsD;AAAA,2CAAC,MAAQ;AAAA,4CAAR,UAAQ;AAAA,0BAAA;;;wBAC5EA,YAAiG,SAAA;AAAA,0BAA1F,MAAK;AAAA,0BAAO,UAAA;AAAA,0BAAS,QAAO;AAAA,0BAAU,OAAM;AAAA,0BAAkB,UAAQ;AAAA,wBAAA;wBACpEP,MAAA,QAAA,EAAS,OAAO,uBAAzBQ,YAAoH,KAAA;AAAA;0BAAnF,OAAM;AAAA,wBAAA,GAAqC,yBAAOR,MAAA,QAAA,EAAS,OAAO,MAAM,IAAG,QAAI,CAAA;;sBAElHO,YAIM,OAAA,EAJD,OAAM,sBAAkB;AAAA,wBAC3BA,YAES,mBAAA;AAAA,0BAFD,MAAK;AAAA,0BAAU,UAAUP,MAAA,aAAA;AAAA,wBAAA;2CAC/B,MAAmC;AAAA,4DAAhCA,MAAA,aAAA,IAAa,SAAA,IAAA,GAAA,CAAA;AAAA,0BAAA;;;;;;;;;;;;;MAMT,WAAAA,MAAA,SAAA,KAAaA,MAAA,SAAA,EAAU,eAAeA,MAAA,QAAA,GAAQ;AAAE,cAAAE,mBAAA,iBAAA,EAAA,OAAM,uDAAmD;AAAA,2BAA1H,CAQO,GAAAC,QAAAC,UAAA,aAAA;;;iCAPL,CAGaC,IAAAF,QAAAC,UAAAE,cAAA;;;uCAFX,CAA8BD,IAAAF,QAAAC,UAAAE,cAAA;;;;;4CAAnB,SAAO;AAAA,0BAAA;AAAA;;;;;uCAClB,CAAwDD,IAAAF,QAAAC,UAAAE,cAAA;;;;;4CAAvC,uBAAqB;AAAA,0BAAA;AAAA;;;;;;sBADtCC,YAA8B,sBAAA,MAAA;AAAA,yCAAnB,MAAO;AAAA,0CAAP,SAAO;AAAA,wBAAA;;;sBAClBA,YAAwD,4BAAA,MAAA;AAAA,yCAAvC,MAAqB;AAAA,0CAArB,uBAAqB;AAAA,wBAAA;;;;;;;;;iCAExC,CAEcF,IAAAF,QAAAC,UAAAE,cAAA;;;sBADJ,OAAM;AAAA,sBAAU,UAAUN,MAAA,aAAA;AAAA,sBAAgB,SAAO;AAAA,oBAAA;uCAAzD,CAAqFK,IAAAF,QAAAC,UAAAE,cAAA;;;;;4CAAb,MAAI;AAAA,0BAAA;AAAA;;;;;;sBAA5EC,YAAqF,mBAAA;AAAA,wBAA7E,OAAM;AAAA,wBAAU,UAAUP,MAAA,aAAA;AAAA,wBAAgB,SAAO;AAAA,sBAAA;yCAAe,MAAI;AAAA,0CAAJ,MAAI;AAAA,wBAAA;;;;;;;;;;gBAL9EO,YAGa,uBAAA,MAAA;AAAA,mCAFX,MAA8B;AAAA,oBAA9BA,YAA8B,sBAAA,MAAA;AAAA,uCAAnB,MAAO;AAAA,wCAAP,SAAO;AAAA,sBAAA;;;oBAClBA,YAAwD,4BAAA,MAAA;AAAA,uCAAvC,MAAqB;AAAA,wCAArB,uBAAqB;AAAA,sBAAA;;;;;;gBAExCA,YAEc,wBAAA,MAAA;AAAA,mCADZ,MAAqF;AAAA,oBAArFA,YAAqF,mBAAA;AAAA,sBAA7E,OAAM;AAAA,sBAAU,UAAUP,MAAA,aAAA;AAAA,sBAAgB,SAAO;AAAA,oBAAA;uCAAe,MAAI;AAAA,wCAAJ,MAAI;AAAA,sBAAA;;;;;;;;;;;;;;;;QAOpE,SAAQ;AAAA,QAAU,MAAK;AAAA,QAAM,UAAUA,MAAA,WAAA;AAAA,QAAc,SAAO;AAAA,MAAA;yBAApE,CAES,GAAAG,QAAAC,UAAA,aAAA;;;cADD,MAAK;AAAA,cAAoB,OAAM;AAAA,YAAA;;;;cAArCG,YAAsD,iBAAA;AAAA,gBAAhD,MAAK;AAAA,gBAAoB,OAAM;AAAA,cAAA;8BAAiB,KACxD;AAAA,YAAA;AAAA;;;;;UAESP,MAAA,WAAA,KAAW,CAAKA,MAAA,KAAA,EAAM,QAAM;;MAGtB,WAAA,CAAAA,MAAA,KAAA,EAAM,QAAM;gIACxBA,MAAA,YAAA,CAAY,CAAA,QAAA;AAAA;;AAGMS,sBAAAT,MAAA,KAAA,IAAR,SAAI;;YAAY,KAAK,KAAK;AAAA,YAAI,OAAM;AAAA,UAAA;6BAAjD,CA6BO,GAAAG,QAAAC,UAAA,aAAA;;;mCA5BL,CAQaC,IAAAF,QAAAC,UAAAE,cAAA;;AAPAH,6BAAAD,mBAAA,sBAAA,EAAA,OAAM,aAAS;AAAA,yCAA1B,CAAuDG,IAAAF,QAAAC,UAAAE,cAAA;;AAAzBH,mCAAA,GAAAF,eAAA,KAAK,KAAK,CAAA,EAAA;AAAA;;8BAAVS,gBAAAC,gBAAA,KAAK,KAAK,GAAA,CAAA;AAAA,4BAAA;AAAA;;;;;yCACxC,CAKkBN,IAAAF,QAAAC,UAAAE,cAAA;;;8BAJL,IAAE,UAAY,KAAK,OAAO,QAAQ;AAAA,8BAAI,OAAM;AAAA,4BAAA;+CAAvD,CAEWD,IAAAF,QAAAC,UAAAE,cAAA;;2DADN,KAAK,OAAO,YAAY,KAAK,OAAO,QAAQ,CAAA,EAAA;AAAA;;oEAA5C,KAAK,OAAO,YAAY,KAAK,OAAO,QAAQ,GAAA,CAAA;AAAA,kCAAA;AAAA;;;;wDAE5C,WAAW,KAAK,UAAU,CAAA,CAAA,EAAA;AAAA;;8BAH/BC,YAEW,qBAAA;AAAA,gCAFA,IAAE,UAAY,KAAK,OAAO,QAAQ;AAAA,gCAAI,OAAM;AAAA,8BAAA;iDACrD,MAAkD;AAAA,kEAA/C,KAAK,OAAO,YAAY,KAAK,OAAO,QAAQ,GAAA,CAAA;AAAA,gCAAA;;;8BACtCG,gBAAA,QACTC,gBAAG,WAAW,KAAK,UAAU,CAAA,GAAA,CAAA;AAAA,4BAAA;AAAA;;;;;;wBALjCJ,YAAuD,sBAAA,EAA5C,OAAM,aAAS;AAAA,2CAAC,MAAgB;AAAA,4BAAbG,gBAAAC,gBAAA,KAAK,KAAK,GAAA,CAAA;AAAA,0BAAA;;;wBACxCJ,YAKkB,4BAAA,MAAA;AAAA,2CAJhB,MAEW;AAAA,4BAFXA,YAEW,qBAAA;AAAA,8BAFA,IAAE,UAAY,KAAK,OAAO,QAAQ;AAAA,8BAAI,OAAM;AAAA,4BAAA;+CACrD,MAAkD;AAAA,gEAA/C,KAAK,OAAO,YAAY,KAAK,OAAO,QAAQ,GAAA,CAAA;AAAA,8BAAA;;;4BACtCG,gBAAA,QACTC,gBAAG,WAAW,KAAK,UAAU,CAAA,GAAA,CAAA;AAAA,0BAAA;;;;;;;;AAGtBR,uBAAAD,mBAAA,wBAAA,EAAA,OAAM,eAAW;AAAA,mCAA9B,CAKcG,IAAAF,QAAAC,UAAAE,cAAA;;mGAJ8CL,eAAA,KAAK,IAAI;0BACxD,KAAK,OAAO,QAAM;;sCACN,KAAK,QAAM,CAApB,UAAK;wCAAkCW,cAAA,OAAK,aAAa,MAAM,KAAK,CAAA;;;;;;;;wBAFlFL,YAA0E,OAAvE,OAAM,8CAAA,GAA6CI,gBAAI,KAAK,IAAI,GAAA,CAAA;AAAA,wBACxD,KAAK,OAAO,uBAAvBH,YAEM,OAAA;AAAA;0BAFyB,OAAM;AAAA,wBAAA;2BACnCK,UAAA,IAAA,GAAAL,YAAiIM,UAAA,MAAAC,WAA5G,KAAK,SAAd,UAAK;gDAAjBP,YAAiI,OAAA;AAAA,8BAA9F,KAAK,MAAM;AAAA,8BAAK,KAAK,aAAa,MAAM,KAAK;AAAA,8BAAG,OAAM;AAAA,4BAAA;;;;;;;;AAGjFL,uBAAAD,mBAAA,uBAAA,EAAA,OAAM,qEAAiE;AAAA,mCAAnF,CAYaG,IAAAF,QAAAC,UAAAE,cAAA;;gGAVuCU,eAAA,CAAA,KAAK,WAAQ,iBAAA,IAAA,yBAAA,CAAA;;wBACpD,MAAM,KAAK,WAAQ,iBAAA;AAAA,wBAAwC,OAAM;AAAA,sBAAA;kDAC/Df,eAAA,KAAK,UAAU;;wBAGlB,MAAK;AAAA,wBAAwB,OAAM;AAAA,sBAAA;kDAChCA,eAAA,KAAK,aAAa;;wBAGvB,SAAQ;AAAA,wBAAQ,MAAK;AAAA,wBAAM,SAAK,CAAA,YAAEgB,gBAAAA,OAAAA,KAAAA,aAAAA,MAAAA,UAAAA,GAAU,oBAAqB,KAAK,EAAE,EAAA;AAAA,sBAAA;yCAAhF,CAAkGZ,IAAAF,QAAAC,UAAAE,cAAA;;;;;8CAAb,MAAI;AAAA,4BAAA;AAAA;;;;;;wBAVzFC,YASM,OAAA,EATD,OAAM,6BAAyB;AAAA,0BAClCA,YAGS,UAAA;AAAA,4BAHD,OAAK,CAAC,2BAAkC,KAAK,WAAQ,iBAAA,EAAA;AAAA,4BAAyB,SAAK,CAAA,WAAE,WAAW,IAAI;AAAA,0BAAA;4BAC1GA,YAAoF,iBAAA;AAAA,8BAA7E,MAAM,KAAK,WAAQ,iBAAA;AAAA,8BAAwC,OAAM;AAAA,4BAAA;4BACxEA,YAAkC,QAAA,MAAAI,gBAAzB,KAAK,UAAU,GAAA,CAAA;AAAA,0BAAA;0BAE1BJ,YAGM,OAAA,EAHD,OAAM,6BAAyB;AAAA,4BAClCA,YAAqD,iBAAA;AAAA,8BAA/C,MAAK;AAAA,8BAAwB,OAAM;AAAA,4BAAA;4BACzCA,YAAqC,QAAA,MAAAI,gBAA5B,KAAK,aAAa,GAAA,CAAA;AAAA,0BAAA;;wBAG/BJ,YAAkG,mBAAA;AAAA,0BAA1F,SAAQ;AAAA,0BAAQ,MAAK;AAAA,0BAAM,SAAK,CAAA,YAAEU,gBAAAA,OAAAA,KAAAA,aAAAA,MAAAA,UAAAA,GAAU,oBAAqB,KAAK,EAAE,EAAA;AAAA,wBAAA;2CAAK,MAAI;AAAA,4CAAJ,MAAI;AAAA,0BAAA;;;;;;;;;;kBA1B3FV,YAQa,uBAAA,MAAA;AAAA,qCAPX,MAAuD;AAAA,sBAAvDA,YAAuD,sBAAA,EAA5C,OAAM,aAAS;AAAA,yCAAC,MAAgB;AAAA,0BAAbG,gBAAAC,gBAAA,KAAK,KAAK,GAAA,CAAA;AAAA,wBAAA;;;sBACxCJ,YAKkB,4BAAA,MAAA;AAAA,yCAJhB,MAEW;AAAA,0BAFXA,YAEW,qBAAA;AAAA,4BAFA,IAAE,UAAY,KAAK,OAAO,QAAQ;AAAA,4BAAI,OAAM;AAAA,0BAAA;6CACrD,MAAkD;AAAA,8DAA/C,KAAK,OAAO,YAAY,KAAK,OAAO,QAAQ,GAAA,CAAA;AAAA,4BAAA;;;0BACtCG,gBAAA,QACTC,gBAAG,WAAW,KAAK,UAAU,CAAA,GAAA,CAAA;AAAA,wBAAA;;;;;;kBAGnCJ,YAKc,wBAAA,EALD,OAAM,eAAW;AAAA,qCAC5B,MAA0E;AAAA,sBAA1EA,YAA0E,OAAvE,OAAM,8CAAA,GAA6CI,gBAAI,KAAK,IAAI,GAAA,CAAA;AAAA,sBACxD,KAAK,OAAO,uBAAvBH,YAEM,OAAA;AAAA;wBAFyB,OAAM;AAAA,sBAAA;yBACnCK,UAAA,IAAA,GAAAL,YAAiIM,UAAA,MAAAC,WAA5G,KAAK,SAAd,UAAK;8CAAjBP,YAAiI,OAAA;AAAA,4BAA9F,KAAK,MAAM;AAAA,4BAAK,KAAK,aAAa,MAAM,KAAK;AAAA,4BAAG,OAAM;AAAA,0BAAA;;;;;;kBAG7FD,YAYa,uBAAA,EAZD,OAAM,qEAAiE;AAAA,qCACjF,MASM;AAAA,sBATNA,YASM,OAAA,EATD,OAAM,6BAAyB;AAAA,wBAClCA,YAGS,UAAA;AAAA,0BAHD,OAAK,CAAC,2BAAkC,KAAK,WAAQ,iBAAA,EAAA;AAAA,0BAAyB,SAAK,CAAA,WAAE,WAAW,IAAI;AAAA,wBAAA;0BAC1GA,YAAoF,iBAAA;AAAA,4BAA7E,MAAM,KAAK,WAAQ,iBAAA;AAAA,4BAAwC,OAAM;AAAA,0BAAA;0BACxEA,YAAkC,QAAA,MAAAI,gBAAzB,KAAK,UAAU,GAAA,CAAA;AAAA,wBAAA;wBAE1BJ,YAGM,OAAA,EAHD,OAAM,6BAAyB;AAAA,0BAClCA,YAAqD,iBAAA;AAAA,4BAA/C,MAAK;AAAA,4BAAwB,OAAM;AAAA,0BAAA;0BACzCA,YAAqC,QAAA,MAAAI,gBAA5B,KAAK,aAAa,GAAA,CAAA;AAAA,wBAAA;;sBAG/BJ,YAAkG,mBAAA;AAAA,wBAA1F,SAAQ;AAAA,wBAAQ,MAAK;AAAA,wBAAM,SAAK,CAAA,YAAEU,gBAAAA,OAAAA,KAAAA,aAAAA,MAAAA,UAAAA,GAAU,oBAAqB,KAAK,EAAE,EAAA;AAAA,sBAAA;yCAAK,MAAI;AAAA,0CAAJ,MAAI;AAAA,wBAAA;;;;;;;;;;;;;YAGlFjB,MAAA,OAAA,GAAO;;;YACR,SAAQ;AAAA,YAAW,UAAUA,MAAA,WAAA;AAAA,YAAc,SAAO;AAAA,UAAA;6BAA1D,CAES,GAAAG,QAAAC,UAAA,aAAA;;yCADJJ,MAAA,WAAA,IAAW,SAAA,MAAA,CAAA,EAAA;AAAA;;kDAAXA,MAAA,WAAA,IAAW,SAAA,MAAA,GAAA,CAAA;AAAA,gBAAA;AAAA;;;;;;;;;;;AAQhB,YAAAE,mBAAA,iBAAA,EAAA,OAAM,6BAAyB;AAAA,yBAArC,CAWO,GAAAC,QAAAC,UAAA,aAAA;;;+BAVL,CAGaC,IAAAF,QAAAC,UAAAE,cAAA;;;qCAFX,CAA2BD,IAAAF,QAAAC,UAAAE,cAAA;;;;;0CAAhB,MAAI;AAAA,wBAAA;AAAA;;;;;qCACf,CAA8CD,IAAAF,QAAAC,UAAAE,cAAA;;;;;0CAA7B,aAAW;AAAA,wBAAA;AAAA;;;;;;oBAD5BC,YAA2B,sBAAA,MAAA;AAAA,uCAAhB,MAAI;AAAA,wCAAJ,MAAI;AAAA,sBAAA;;;oBACfA,YAA8C,4BAAA,MAAA;AAAA,uCAA7B,MAAW;AAAA,wCAAX,aAAW;AAAA,sBAAA;;;;;;;;AAEjBJ,mBAAAD,mBAAA,wBAAA,EAAA,OAAM,6CAAyC;AAAA,+BAA5D,CAKcG,IAAAF,QAAAC,UAAAE,cAAA;;oGAJuCL,eAAAD,MAAA,SAAA,GAAW,iBAAa,CAAA,iFACvBC,eAAAD,MAAA,SAAA,IAAY,WAAWA,MAAA,SAAA,EAAU,UAAU,IAAA,GAAA,gFAC5CC,eAAAD,MAAA,SAAA,GAAW,iBAAY,cAAA,UAAA,OAAA,iFACtBC,eAAAD,MAAA,SAAA,GAAW,aAAU,YAAA,MAAA;;;oBAHzEO,YAAuF,KAAA,MAAA;AAAA,sBAApFA,YAA6C,UAAA,EAArC,OAAM,kBAAA,GAAkB,MAAI;AAAA,sBAAYG,gBAAAC,gBAAAX,MAAA,SAAA,GAAW,iBAAa,CAAA,GAAA,CAAA;AAAA,oBAAA;oBAC3EO,YAA6G,KAAA,MAAA;AAAA,sBAA1GA,YAA8C,UAAA,EAAtC,OAAM,kBAAA,GAAkB,OAAK;AAAA,sBAAYG,gBAAAC,gBAAAX,MAAA,SAAA,IAAY,WAAWA,MAAA,SAAA,EAAU,UAAU,IAAA,GAAA,GAAA,CAAA;AAAA,oBAAA;oBAC/FO,YAAqH,KAAA,MAAA;AAAA,sBAAlHA,YAA6C,UAAA,EAArC,OAAM,kBAAA,GAAkB,MAAI;AAAA,sBAAYG,gBAAAC,gBAAAX,MAAA,SAAA,GAAW,iBAAY,cAAA,UAAA,OAAA,GAAA,CAAA;AAAA,oBAAA;oBAC1EO,YAAqG,KAAA,MAAA;AAAA,sBAAlGA,YAA8C,UAAA,EAAtC,OAAM,kBAAA,GAAkB,OAAK;AAAA,sBAAYG,gBAAAC,gBAAAX,MAAA,SAAA,GAAW,aAAU,YAAA,MAAA,GAAA,CAAA;AAAA,oBAAA;;;;;;;;cAR3EO,YAGa,uBAAA,MAAA;AAAA,iCAFX,MAA2B;AAAA,kBAA3BA,YAA2B,sBAAA,MAAA;AAAA,qCAAhB,MAAI;AAAA,sCAAJ,MAAI;AAAA,oBAAA;;;kBACfA,YAA8C,4BAAA,MAAA;AAAA,qCAA7B,MAAW;AAAA,sCAAX,aAAW;AAAA,oBAAA;;;;;;cAE9BA,YAKc,wBAAA,EALD,OAAM,6CAAyC;AAAA,iCAC1D,MAAuF;AAAA,kBAAvFA,YAAuF,KAAA,MAAA;AAAA,oBAApFA,YAA6C,UAAA,EAArC,OAAM,kBAAA,GAAkB,MAAI;AAAA,oBAAYG,gBAAAC,gBAAAX,MAAA,SAAA,GAAW,iBAAa,CAAA,GAAA,CAAA;AAAA,kBAAA;kBAC3EO,YAA6G,KAAA,MAAA;AAAA,oBAA1GA,YAA8C,UAAA,EAAtC,OAAM,kBAAA,GAAkB,OAAK;AAAA,oBAAYG,gBAAAC,gBAAAX,MAAA,SAAA,IAAY,WAAWA,MAAA,SAAA,EAAU,UAAU,IAAA,GAAA,GAAA,CAAA;AAAA,kBAAA;kBAC/FO,YAAqH,KAAA,MAAA;AAAA,oBAAlHA,YAA6C,UAAA,EAArC,OAAM,kBAAA,GAAkB,MAAI;AAAA,oBAAYG,gBAAAC,gBAAAX,MAAA,SAAA,GAAW,iBAAY,cAAA,UAAA,OAAA,GAAA,CAAA;AAAA,kBAAA;kBAC1EO,YAAqG,KAAA,MAAA;AAAA,oBAAlGA,YAA8C,UAAA,EAAtC,OAAM,kBAAA,GAAkB,OAAK;AAAA,oBAAYG,gBAAAC,gBAAAX,MAAA,SAAA,GAAW,aAAU,YAAA,MAAA,GAAA,CAAA;AAAA,kBAAA;;;;;;;;;AAGvE,YAAAE,mBAAA,iBAAA,EAAA,OAAM,yCAAqC;AAAA,yBAAjD,CAUO,GAAAC,QAAAC,UAAA,aAAA;;;+BATL,CAGaC,IAAAF,QAAAC,UAAAE,cAAA;;;qCAFX,CAA2BD,IAAAF,QAAAC,UAAAE,cAAA;;;;;0CAAhB,MAAI;AAAA,wBAAA;AAAA;;;;;qCACf,CAAoDD,IAAAF,QAAAC,UAAAE,cAAA;;;;;0CAAnC,mBAAiB;AAAA,wBAAA;AAAA;;;;;;oBADlCC,YAA2B,sBAAA,MAAA;AAAA,uCAAhB,MAAI;AAAA,wCAAJ,MAAI;AAAA,sBAAA;;;oBACfA,YAAoD,4BAAA,MAAA;AAAA,uCAAnC,MAAiB;AAAA,wCAAjB,mBAAiB;AAAA,sBAAA;;;;;;;;AAEvBJ,mBAAAD,mBAAA,wBAAA,EAAA,OAAM,6CAAyC;AAAA,+BAA5D,CAIcG,IAAAF,QAAAC,UAAAE,cAAA;;;;;oBAHZC,YAA0B,WAAvB,qBAAmB;AAAA,oBACtBA,YAA6B,WAA1B,wBAAsB;AAAA,oBACzBA,YAA8B,WAA3B,yBAAuB;AAAA,kBAAA;AAAA;;;;;;cAP5BA,YAGa,uBAAA,MAAA;AAAA,iCAFX,MAA2B;AAAA,kBAA3BA,YAA2B,sBAAA,MAAA;AAAA,qCAAhB,MAAI;AAAA,sCAAJ,MAAI;AAAA,oBAAA;;;kBACfA,YAAoD,4BAAA,MAAA;AAAA,qCAAnC,MAAiB;AAAA,sCAAjB,mBAAiB;AAAA,oBAAA;;;;;;cAEpCA,YAIc,wBAAA,EAJD,OAAM,6CAAyC;AAAA,iCAC1D,MAA0B;AAAA,kBAA1BA,YAA0B,WAAvB,qBAAmB;AAAA,kBACtBA,YAA6B,WAA1B,wBAAsB;AAAA,kBACzBA,YAA8B,WAA3B,yBAAuB;AAAA,gBAAA;;;;;;;;;;;;;;;;;;","names":["_ssrRenderAttrs","_mergeProps","_unref","_ssrInterpolate","_ssrRenderComponent","_push","_parent","_","_scopeId","_createVNode","_createBlock","_ssrRenderList","_createTextVNode","_toDisplayString","_ssrRenderAttr","_openBlock","_Fragment","_renderList","_ssrRenderClass","navigateTo"],"sources":["../../../../pages/community/[slug].vue"],"sourcesContent":["<template>\r\n  <div class=\"space-y-6\">\r\n    <div class=\"rounded-2xl border border-border/70 bg-secondary/30 p-6\">\r\n      <div v-if=\"community\" class=\"space-y-4\">\r\n        <div class=\"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\r\n          <div>\r\n            <h1 class=\"text-2xl font-semibold\">{{ community.name }}</h1>\r\n            <p class=\"mt-1 max-w-2xl text-sm text-muted-foreground\">{{ community.description || '这个社区还没有简介。' }}</p>\r\n          </div>\r\n          <div class=\"flex flex-wrap items-center gap-3 text-sm text-muted-foreground\">\r\n            <span class=\"inline-flex items-center gap-1 rounded-full border border-border px-3 py-1\">\r\n              <Icon name=\"lucide:users\" class=\"h-4 w-4\" />\r\n              {{ community.members_count }} 名成员\r\n            </span>\r\n            <span v-if=\"community.is_private\" class=\"inline-flex items-center gap-1 rounded-full border border-border px-3 py-1\">\r\n              <Icon name=\"lucide:lock\" class=\"h-4 w-4\" />\r\n              私密社区\r\n            </span>\r\n            <Badge v-if=\"community.current_role === 'moderator'\" variant=\"outline\">社区管理员</Badge>\r\n          </div>\r\n        </div>\r\n        <div class=\"flex flex-wrap items-center gap-3\">\r\n          <Button v-if=\"!isMember\" :disabled=\"actionLoading\" @click=\"joinCommunity\">\r\n            {{ actionLoading ? '处理中…' : '加入社区' }}\r\n          </Button>\r\n          <Button v-else variant=\"outline\" :disabled=\"actionLoading\" @click=\"leaveCommunity\">\r\n            {{ actionLoading ? '处理中…' : '退出社区' }}\r\n          </Button>\r\n          <NuxtLink to=\"/community\" class=\"text-sm text-muted-foreground hover:text-foreground\">\r\n            返回社区广场\r\n          </NuxtLink>\r\n        </div>\r\n      </div>\r\n      <div v-else class=\"text-sm text-muted-foreground\">正在加载社区信息…</div>\r\n    </div>\r\n\r\n    <section class=\"grid gap-6 lg:grid-cols-[2fr_1fr]\">\r\n      <div class=\"space-y-4\">\r\n        <Card v-if=\"auth.isAuthenticated && isMember\" class=\"border border-border/70\">\r\n          <CardHeader>\r\n            <CardTitle>分享新帖子</CardTitle>\r\n            <CardDescription>与社区成员交流实战经验</CardDescription>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <form class=\"space-y-4\" @submit.prevent=\"submitPost\">\r\n              <div>\r\n                <Label for=\"title\">标题</Label>\r\n                <Input id=\"title\" v-model=\"postForm.title\" placeholder=\"一句话概括你的观点\" required />\r\n              </div>\r\n              <div>\r\n                <Label for=\"body\">内容</Label>\r\n                <Textarea id=\"body\" v-model=\"postForm.body\" rows=\"4\" placeholder=\"详细描述你的案例或问题\" required />\r\n              </div>\r\n              <div>\r\n                <Label class=\"mb-1 block text-sm font-medium text-muted-foreground\">上传图片（可选）</Label>\r\n                <input type=\"file\" multiple accept=\"image/*\" class=\"w-full text-sm\" @change=\"handleFileChange\" />\r\n                <p v-if=\"postForm.images.length\" class=\"mt-2 text-xs text-muted-foreground\">已选择 {{ postForm.images.length }} 张图片</p>\r\n              </div>\r\n              <div class=\"flex justify-end\">\r\n                <Button type=\"submit\" :disabled=\"createLoading\">\r\n                  {{ createLoading ? '发布中…' : '发布' }}\r\n                </Button>\r\n              </div>\r\n            </form>\r\n          </CardContent>\r\n        </Card>\r\n        <Card v-else-if=\"community && community.is_private && !isMember\" class=\"border border-dashed border-border/70 bg-muted/20\">\r\n          <CardHeader>\r\n            <CardTitle>加入后查看讨论</CardTitle>\r\n            <CardDescription>这是一个私密社区，成员加入后可访问全部内容</CardDescription>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <Button class=\"w-full\" :disabled=\"actionLoading\" @click=\"joinCommunity\">申请加入</Button>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <div class=\"space-y-4\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <h2 class=\"text-lg font-semibold\">社区动态</h2>\r\n            <Button variant=\"outline\" size=\"sm\" :disabled=\"feedLoading\" @click=\"refreshPosts\">\r\n              <Icon name=\"lucide:refresh-cw\" class=\"mr-1 h-4 w-4\" />刷新\r\n            </Button>\r\n          </div>\r\n          <div v-if=\"feedLoading && !posts.length\" class=\"rounded-lg border border-dashed border-border/70 p-6 text-sm text-muted-foreground\">\r\n            正在加载帖子…\r\n          </div>\r\n          <div v-else-if=\"!posts.length\" class=\"rounded-lg border border-dashed border-border/70 p-6 text-sm text-muted-foreground\">\r\n            {{ emptyMessage }}\r\n          </div>\r\n          <div v-else class=\"space-y-4\">\r\n            <Card v-for=\"post in posts\" :key=\"post.id\" class=\"border border-border/70\">\r\n              <CardHeader>\r\n                <CardTitle class=\"text-xl\">{{ post.title }}</CardTitle>\r\n                <CardDescription>\r\n                  <NuxtLink :to=\"`/users/${post.author.username}`\" class=\"font-medium hover:underline\">\r\n                    {{ post.author.nickname || post.author.username }}\r\n                  </NuxtLink>\r\n                  · {{ formatDate(post.created_at) }}\r\n                </CardDescription>\r\n              </CardHeader>\r\n              <CardContent class=\"space-y-4\">\r\n                <p class=\"whitespace-pre-line text-sm leading-relaxed\">{{ post.body }}</p>\r\n                <div v-if=\"post.images.length\" class=\"grid gap-3 md:grid-cols-2\">\r\n                  <img v-for=\"image in post.images\" :key=\"image.id\" :src=\"resolveMedia(image.image)\" class=\"h-48 w-full rounded-lg object-cover\" />\r\n                </div>\r\n              </CardContent>\r\n              <CardFooter class=\"flex items-center justify-between text-sm text-muted-foreground\">\r\n                <div class=\"flex items-center gap-4\">\r\n                  <button class=\"flex items-center gap-1\" :class=\"post.is_liked ? 'text-primary' : ''\" @click=\"toggleLike(post)\">\r\n                    <Icon :name=\"post.is_liked ? 'lucide:heart' : 'lucide:heart-off'\" class=\"h-4 w-4\" />\r\n                    <span>{{ post.like_count }}</span>\r\n                  </button>\r\n                  <div class=\"flex items-center gap-1\">\r\n                    <Icon name=\"lucide:message-square\" class=\"h-4 w-4\" />\r\n                    <span>{{ post.comment_count }}</span>\r\n                  </div>\r\n                </div>\r\n                <Button variant=\"ghost\" size=\"sm\" @click=\"navigateTo(`/community/posts/${post.id}`)\">查看详情</Button>\r\n              </CardFooter>\r\n            </Card>\r\n            <div v-if=\"hasMore\" class=\"flex justify-center\">\r\n              <Button variant=\"outline\" :disabled=\"feedLoading\" @click=\"loadMore\">\r\n                {{ feedLoading ? '加载中…' : '加载更多' }}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <aside class=\"space-y-4\">\r\n        <Card class=\"border border-border/70\">\r\n          <CardHeader>\r\n            <CardTitle>社区概览</CardTitle>\r\n            <CardDescription>掌握成员结构与互动情况</CardDescription>\r\n          </CardHeader>\r\n          <CardContent class=\"space-y-3 text-sm text-muted-foreground\">\r\n            <p><strong class=\"text-foreground\">成员数：</strong>{{ community?.members_count ?? 0 }}</p>\r\n            <p><strong class=\"text-foreground\">创建时间：</strong>{{ community ? formatDate(community.created_at) : '-' }}</p>\r\n            <p><strong class=\"text-foreground\">管理员：</strong>{{ community?.current_role === 'moderator' ? '你是管理员' : '由平台指定' }}</p>\r\n            <p><strong class=\"text-foreground\">访问权限：</strong>{{ community?.is_private ? '需要加入后访问' : '公开社区' }}</p>\r\n          </CardContent>\r\n        </Card>\r\n        <Card class=\"border border-border/70 bg-muted/30\">\r\n          <CardHeader>\r\n            <CardTitle>互动提示</CardTitle>\r\n            <CardDescription>管理员可删除违规内容，维护社区秩序</CardDescription>\r\n          </CardHeader>\r\n          <CardContent class=\"space-y-2 text-xs text-muted-foreground\">\r\n            <p>· 建议使用案例+提示的结构分享信息。</p>\r\n            <p>· 如发现诈骗线索，可@社区管理员标记处理。</p>\r\n            <p>· 积极参与讨论可提升个人资料中的社区活跃度。</p>\r\n          </CardContent>\r\n        </Card>\r\n      </aside>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport type { AxiosError } from 'axios'\r\n\r\ninterface CommunityDetail {\r\n  id: number\r\n  name: string\r\n  slug: string\r\n  description: string\r\n  members_count: number\r\n  current_role?: string | null\r\n  is_private: boolean\r\n  created_at: string\r\n}\r\n\r\ninterface PostImage {\r\n  id: number\r\n  image: string\r\n  order: number\r\n}\r\n\r\ninterface PostAuthor {\r\n  username: string\r\n  nickname?: string | null\r\n}\r\n\r\ninterface PostItem {\r\n  id: number\r\n  title: string\r\n  body: string\r\n  created_at: string\r\n  like_count: number\r\n  comment_count: number\r\n  is_liked: boolean\r\n  images: PostImage[]\r\n  author: PostAuthor\r\n}\r\n\r\nconst route = useRoute()\r\nconst auth = useAuthStore()\r\nconst { $api, $config } = useNuxtApp()\r\n\r\nconst community = ref<CommunityDetail | null>(null)\r\nconst actionLoading = ref(false)\r\nconst feedLoading = ref(false)\r\nconst posts = ref<PostItem[]>([])\r\nconst hasMore = ref(false)\r\nconst currentPage = ref(1)\r\nconst createLoading = ref(false)\r\n\r\nconst postForm = reactive({\r\n  title: '',\r\n  body: '',\r\n  images: [] as File[],\r\n})\r\n\r\nconst isMember = computed(() => Boolean(community.value?.current_role))\r\n\r\nconst emptyMessage = computed(() => {\r\n  if (community.value?.is_private && !isMember.value) {\r\n    return '加入社区后即可查看全部帖子'\r\n  }\r\n  return '暂无帖子，快来发布第一条内容吧'\r\n})\r\n\r\nconst fetchCommunity = async () => {\r\n  try {\r\n    const { data } = await $api.get(`/community/communities/${route.params.slug}/`)\r\n    community.value = data\r\n  } catch (error) {\r\n    console.error('加载社区详情失败', error)\r\n    community.value = null\r\n  }\r\n}\r\n\r\nconst fetchPosts = async (page = 1, append = false) => {\r\n  feedLoading.value = true\r\n  try {\r\n    const { data } = await $api.get('/community/posts/', {\r\n      params: { community: route.params.slug, page },\r\n    })\r\n    const results = Array.isArray(data) ? data : data.results || []\r\n    if (append) {\r\n      posts.value = [...posts.value, ...results]\r\n    } else {\r\n      posts.value = results\r\n    }\r\n    hasMore.value = Boolean(data?.next)\r\n    currentPage.value = page\r\n  } catch (error) {\r\n    console.error('加载社区帖子失败', error)\r\n    if (!append) posts.value = []\r\n  } finally {\r\n    feedLoading.value = false\r\n  }\r\n}\r\n\r\nconst joinCommunity = async () => {\r\n  if (!auth.isAuthenticated) {\r\n    window.alert('请先登录后再加入社区')\r\n    return\r\n  }\r\n  actionLoading.value = true\r\n  try {\r\n    await $api.post(`/community/communities/${route.params.slug}/join/`)\r\n    await fetchCommunity()\r\n    await fetchPosts()\r\n    window.alert('已加入社区')\r\n  } catch (error) {\r\n    console.error('加入社区失败', error)\r\n    window.alert('加入失败，请稍后重试')\r\n  } finally {\r\n    actionLoading.value = false\r\n  }\r\n}\r\n\r\nconst leaveCommunity = async () => {\r\n  actionLoading.value = true\r\n  try {\r\n    await $api.post(`/community/communities/${route.params.slug}/leave/`)\r\n    await fetchCommunity()\r\n    await fetchPosts()\r\n    window.alert('已退出社区')\r\n  } catch (error) {\r\n    console.error('退出社区失败', error)\r\n    window.alert('退出失败，请稍后重试')\r\n  } finally {\r\n    actionLoading.value = false\r\n  }\r\n}\r\n\r\nconst handleFileChange = (event: Event) => {\r\n  const target = event.target as HTMLInputElement\r\n  postForm.images = Array.from(target.files ?? [])\r\n}\r\n\r\nconst submitPost = async () => {\r\n  if (!postForm.title.trim() || !postForm.body.trim()) return\r\n  createLoading.value = true\r\n  try {\r\n    const formData = new FormData()\r\n    formData.append('community', String(community.value?.id ?? ''))\r\n    formData.append('title', postForm.title)\r\n    formData.append('body', postForm.body)\r\n    postForm.images.forEach((file) => formData.append('images', file))\r\n    await $api.post('/community/posts/', formData, {\r\n      headers: { 'Content-Type': 'multipart/form-data' },\r\n    })\r\n    postForm.title = ''\r\n    postForm.body = ''\r\n    postForm.images = []\r\n    await fetchPosts()\r\n    window.alert('帖子已发布')\r\n  } catch (error) {\r\n    console.error('发布帖子失败', error)\r\n    const axiosError = error as AxiosError<{ detail?: string }>\r\n    window.alert(axiosError.response?.data?.detail || '发布失败，请稍后重试')\r\n  } finally {\r\n    createLoading.value = false\r\n  }\r\n}\r\n\r\nconst toggleLike = async (post: PostItem) => {\r\n  if (!auth.isAuthenticated) {\r\n    window.alert('请先登录后再点赞')\r\n    return\r\n  }\r\n  try {\r\n    const { data } = await $api.post(`/community/posts/${post.id}/like/`)\r\n    post.is_liked = Boolean(data?.liked)\r\n    if (typeof data?.like_count === 'number') {\r\n      post.like_count = data.like_count\r\n    }\r\n  } catch (error) {\r\n    console.error('点赞失败', error)\r\n  }\r\n}\r\n\r\nconst loadMore = () => {\r\n  if (!hasMore.value || feedLoading.value) return\r\n  fetchPosts(currentPage.value + 1, true)\r\n}\r\n\r\nconst refreshPosts = () => fetchPosts(1, false)\r\n\r\nconst resolveMedia = (path: string) => {\r\n  if (!path) return ''\r\n  if (path.startsWith('http')) return path\r\n  const base = $config.public.apiBase?.replace(/\\/$/, '') ?? ''\r\n  return `${base}${path}`\r\n}\r\n\r\nconst formatDate = (value?: string) => {\r\n  if (!value) return '-'\r\n  try {\r\n    return new Date(value).toLocaleString('zh-CN', {\r\n      month: 'short',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit',\r\n    })\r\n  } catch (error) {\r\n    return value\r\n  }\r\n}\r\n\r\nwatch(\r\n  () => route.params.slug,\r\n  async () => {\r\n    await fetchCommunity()\r\n    await fetchPosts()\r\n  },\r\n  { immediate: true }\r\n)\r\n</script>\r\n"],"version":3}