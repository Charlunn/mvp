{"version":3,"file":"graph-TEkp-2xc.js","sources":["../../../../components/ui/separator.vue","../../../../pages/graph.vue"],"sourcesContent":["<script setup lang=\"ts\">\r\nimport { Separator } from 'radix-vue'\r\nimport { cn } from '~/lib/utils'\r\n\r\nconst props = withDefaults(defineProps<{\r\n  class?: string\r\n  orientation?: 'horizontal' | 'vertical'\r\n}>(), {\r\n  orientation: 'horizontal'\r\n})\r\n</script>\r\n\r\n<template>\r\n  <Separator\r\n    v-bind=\"$attrs\"\r\n    :orientation=\"props.orientation\"\r\n    :class=\"cn(\r\n      'bg-border',\r\n      props.orientation === 'vertical'\r\n        ? 'h-full w-px'\r\n        : 'h-px w-full'\r\n    , props.class)\"\r\n  />\r\n</template>","<template>\r\n  <div class=\"space-y-6 overflow-x-hidden\">\r\n    <PageHeader title=\"知识图谱\" description=\"以经典黑白配色呈现关键实体及其风险关系\" />\r\n\r\n    <div class=\"flex flex-col gap-3 lg:flex-row lg:items-center\">\r\n      <div class=\"flex flex-1 flex-col gap-3 sm:flex-row\">\r\n        <Input\r\n          v-model=\"search\"\r\n          placeholder=\"搜索节点或关系关键词\"\r\n          class=\"flex-1\"\r\n          @keyup.enter=\"runSearch\"\r\n        />\r\n        <Button variant=\"outline\" class=\"sm:w-auto\" @click=\"runSearch\">查询</Button>\r\n      </div>\r\n      <div class=\"flex items-center gap-2\">\r\n        <Button variant=\"outline\" class=\"sm:hidden\" @click=\"mobileFiltersOpen = true\">筛选</Button>\r\n        <Button variant=\"outline\" class=\"flex items-center gap-2\" :disabled=\"isLoading\" @click=\"loadGraph\">\r\n          <span\r\n            class=\"inline-flex h-4 w-4 items-center justify-center\"\r\n            :class=\"{ 'animate-spin': isLoading }\"\r\n            aria-hidden=\"true\"\r\n          >\r\n            ⟳\r\n          </span>\r\n          刷新图谱\r\n        </Button>\r\n      </div>\r\n    </div>\r\n\r\n    <Card class=\"border border-border/80\">\r\n      <CardHeader>\r\n        <CardTitle>图谱概览</CardTitle>\r\n        <CardDescription>实时呈现最新的风险关系网络</CardDescription>\r\n      </CardHeader>\r\n      <CardContent class=\"space-y-6\">\r\n        <div class=\"grid grid-cols-1 gap-4 lg:grid-cols-[3fr_1.15fr]\">\r\n          <div class=\"relative overflow-hidden rounded-2xl\">\r\n            <ClientOnly>\r\n              <VChart\r\n                ref=\"chartRef\"\r\n                class=\"h-[340px] w-full rounded-2xl border border-border/80 bg-background/60 shadow-inner sm:h-[420px]\"\r\n                :option=\"chartOptions\"\r\n                autoresize\r\n              />\r\n            </ClientOnly>\r\n            <div\r\n              v-if=\"!visibleGraph.nodes.length\"\r\n              class=\"pointer-events-none absolute inset-0 flex flex-col items-center justify-center rounded-2xl border border-dashed border-border/60 bg-background/70 text-xs text-muted-foreground\"\r\n            >\r\n              <p>当前筛选条件下暂无可展示的节点</p>\r\n              <p>可尝试调整过滤或提升互斥力度</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"rounded-2xl border border-border/70 bg-card/80 p-5 text-sm shadow-sm\">\r\n            <div>\r\n              <p class=\"text-xs uppercase tracking-widest text-muted-foreground\">图谱统计</p>\r\n              <div class=\"mt-3 grid grid-cols-2 gap-3 text-base font-semibold\">\r\n                <div class=\"rounded-lg border border-border/60 bg-background/60 p-3 text-center\">\r\n                  <p class=\"text-[11px] uppercase tracking-[0.2em] text-muted-foreground\">节点总数</p>\r\n                  <p class=\"mt-1 text-2xl font-bold\">{{ metadata.nodes }}</p>\r\n                </div>\r\n                <div class=\"rounded-lg border border-border/60 bg-background/60 p-3 text-center\">\r\n                  <p class=\"text-[11px] uppercase tracking-[0.2em] text-muted-foreground\">关系条数</p>\r\n                  <p class=\"mt-1 text-2xl font-bold\">{{ metadata.links }}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <Separator class=\"my-4 opacity-70\" />\r\n\r\n            <div>\r\n              <p class=\"text-xs uppercase tracking-widest text-muted-foreground\">风险分布</p>\r\n              <div class=\"mt-3 space-y-2\">\r\n                <div\r\n                  v-for=\"stat in riskSummary\"\r\n                  :key=\"stat.key\"\r\n                  class=\"flex items-center justify-between rounded-lg border border-border/50 bg-background/40 px-3 py-2\"\r\n                >\r\n                  <div class=\"flex items-center gap-2\">\r\n                    <span class=\"h-2.5 w-2.5 rounded-full\" :style=\"{ backgroundColor: stat.color }\"></span>\r\n                    <span class=\"text-xs font-semibold\">{{ stat.label }}</span>\r\n                  </div>\r\n                  <div class=\"text-xs text-muted-foreground\">{{ stat.count }} · {{ stat.percent }}%</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <Separator class=\"my-4 opacity-70\" />\r\n\r\n            <div>\r\n              <p class=\"text-xs uppercase tracking-widest text-muted-foreground\">节点详情</p>\r\n              <div v-if=\"selectedNode\" class=\"mt-3 space-y-2\">\r\n                <p class=\"text-base font-semibold\">{{ selectedNode.label }}</p>\r\n                <div class=\"text-xs text-muted-foreground\">\r\n                  <p>类型：{{ selectedNode.category || '未分类' }}</p>\r\n                  <p>风险等级：{{ riskLevelLabels[selectedNode.riskLevel] || '未知' }}</p>\r\n                </div>\r\n                <div class=\"mt-3 rounded-lg border border-border/50 bg-background/50 p-3\">\r\n                  <p class=\"text-[11px] uppercase tracking-[0.3em] text-muted-foreground\">关联节点</p>\r\n                  <ul class=\"mt-2 space-y-1 text-xs text-muted-foreground\">\r\n                    <li v-if=\"!selectedNodeNeighbors.length\">暂未发现关联</li>\r\n                    <li\r\n                      v-for=\"neighbor in selectedNodeNeighbors\"\r\n                      :key=\"neighbor.name\"\r\n                      class=\"flex items-center justify-between\"\r\n                    >\r\n                      <span class=\"truncate\">{{ neighbor.label }}</span>\r\n                      <Button size=\"xs\" variant=\"ghost\" class=\"text-[11px]\" @click=\"focusNode(neighbor.name)\">定位</Button>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n              <p v-else class=\"mt-3 text-xs text-muted-foreground\">双击任何节点即可快速查看详情</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"hidden lg:grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3\">\r\n          <div class=\"rounded-2xl border border-border/70 bg-card/80 p-4\">\r\n            <p class=\"text-xs uppercase tracking-widest text-muted-foreground\">风险筛选</p>\r\n            <div class=\"mt-3 flex flex-wrap gap-2\">\r\n              <Button\r\n                v-for=\"option in riskFilterOptions\"\r\n                :key=\"option.value\"\r\n                size=\"sm\"\r\n                :variant=\"riskFilter === option.value ? 'default' : 'outline'\"\r\n                class=\"rounded-full\"\r\n                @click=\"applyRiskFilter(option.value)\"\r\n              >\r\n                {{ option.label }}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n          <div class=\"rounded-2xl border border-border/70 bg-card/80 p-4\">\r\n            <p class=\"text-xs uppercase tracking-widest text-muted-foreground\">布局与互斥</p>\r\n            <div class=\"mt-3 space-y-3 text-xs text-muted-foreground\">\r\n              <div class=\"flex items-center justify-between\">\r\n                <span>节点互斥强度</span>\r\n                <span class=\"font-semibold text-foreground\">{{ separationStrength }}</span>\r\n              </div>\r\n              <input\r\n                v-model.number=\"separationStrength\"\r\n                type=\"range\"\r\n                min=\"40\"\r\n                max=\"100\"\r\n                step=\"5\"\r\n                class=\"h-1.5 w-full cursor-pointer appearance-none rounded-full bg-border accent-black\"\r\n              />\r\n              <div class=\"flex gap-2\">\r\n                <Button\r\n                  v-for=\"mode in layoutOptions\"\r\n                  :key=\"mode.value\"\r\n                  size=\"sm\"\r\n                  :variant=\"layoutMode === mode.value ? 'default' : 'outline'\"\r\n                  class=\"flex-1\"\r\n                  @click=\"layoutMode = mode.value\"\r\n                >\r\n                  {{ mode.label }}\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"rounded-2xl border border-border/70 bg-card/80 p-4\">\r\n            <p class=\"text-xs uppercase tracking-widest text-muted-foreground\">快捷操作</p>\r\n            <div class=\"mt-3 flex flex-wrap gap-2\">\r\n              <Button size=\"sm\" variant=\"outline\" @click=\"highlightRisk('high')\">聚焦高风险</Button>\r\n              <Button size=\"sm\" variant=\"outline\" @click=\"boostSeparation\">增强互斥</Button>\r\n              <Button size=\"sm\" variant=\"outline\" @click=\"downloadGraphImage\">导出图谱</Button>\r\n              <Button size=\"sm\" @click=\"resetGraphView\">重置视图</Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div v-if=\"searchResults.length\" class=\"border border-dashed border-border/60 p-4 text-sm\">\r\n          <p class=\"text-xs uppercase tracking-widest text-muted-foreground\">搜索结果</p>\r\n          <ul class=\"mt-2 space-y-1\">\r\n            <li\r\n              v-for=\"item in searchResults\"\r\n              :key=\"item.id\"\r\n              class=\"flex items-center justify-between border-b border-border/40 py-2\"\r\n            >\r\n              <div>\r\n                <p class=\"font-medium\">{{ item.label }}</p>\r\n                <p class=\"text-xs text-muted-foreground\">类型：{{ item.type }}</p>\r\n              </div>\r\n              <Button size=\"sm\" variant=\"ghost\" @click=\"focusNode(item.id)\">定位</Button>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n\r\n    <Transition name=\"fade\">\r\n      <div\r\n        v-if=\"mobileFiltersOpen\"\r\n        class=\"fixed inset-0 z-40 flex flex-col bg-background/70 backdrop-blur-sm sm:hidden\"\r\n      >\r\n        <div class=\"flex-1 bg-black/40\" @click=\"closeMobileFilters\" />\r\n        <div class=\"rounded-t-3xl border border-border/70 bg-card p-6 shadow-2xl\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <p class=\"text-sm font-semibold text-muted-foreground\">筛选与布局</p>\r\n            <Button variant=\"ghost\" size=\"sm\" @click=\"closeMobileFilters\">关闭</Button>\r\n          </div>\r\n          <div class=\"mt-4 space-y-5 text-sm\">\r\n            <div>\r\n              <p class=\"text-xs uppercase tracking-widest text-muted-foreground\">风险筛选</p>\r\n              <div class=\"mt-3 flex flex-wrap gap-2\">\r\n                <Button\r\n                  v-for=\"option in riskFilterOptions\"\r\n                  :key=\"option.value\"\r\n                  size=\"sm\"\r\n                  :variant=\"riskFilter === option.value ? 'default' : 'outline'\"\r\n                  class=\"rounded-full\"\r\n                  @click=\"applyRiskFilter(option.value)\"\r\n                >\r\n                  {{ option.label }}\r\n                </Button>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <p class=\"text-xs uppercase tracking-widest text-muted-foreground\">节点互斥强度</p>\r\n              <div class=\"mt-3 space-y-3\">\r\n                <div class=\"flex items-center justify-between\">\r\n                  <span class=\"text-xs text-muted-foreground\">当前值</span>\r\n                  <span class=\"font-semibold text-foreground\">{{ separationStrength }}</span>\r\n                </div>\r\n                <input\r\n                  v-model.number=\"separationStrength\"\r\n                  type=\"range\"\r\n                  min=\"40\"\r\n                  max=\"100\"\r\n                  step=\"5\"\r\n                  class=\"h-1.5 w-full cursor-pointer appearance-none rounded-full bg-border accent-black\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <p class=\"text-xs uppercase tracking-widest text-muted-foreground\">布局模式</p>\r\n              <div class=\"mt-3 flex gap-2\">\r\n                <Button\r\n                  v-for=\"mode in layoutOptions\"\r\n                  :key=\"mode.value\"\r\n                  size=\"sm\"\r\n                  :variant=\"layoutMode === mode.value ? 'default' : 'outline'\"\r\n                  class=\"flex-1\"\r\n                  @click=\"layoutMode = mode.value\"\r\n                >\r\n                  {{ mode.label }}\r\n                </Button>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <p class=\"text-xs uppercase tracking-widest text-muted-foreground\">快捷操作</p>\r\n              <div class=\"mt-3 flex flex-wrap gap-2\">\r\n                <Button size=\"sm\" variant=\"outline\" class=\"flex-1\" @click=\"highlightRisk('high')\">聚焦高风险</Button>\r\n                <Button size=\"sm\" variant=\"outline\" class=\"flex-1\" @click=\"boostSeparation\">增强互斥</Button>\r\n                <Button size=\"sm\" variant=\"outline\" class=\"flex-1\" @click=\"downloadGraphImage\">导出图谱</Button>\r\n                <Button size=\"sm\" class=\"flex-1\" @click=\"resetGraphView\">重置视图</Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <Button class=\"mt-5 w-full\" @click=\"closeMobileFilters\">完成</Button>\r\n        </div>\r\n      </div>\r\n    </Transition>\r\n  </div>\r\n</template>\r\n\r\n\r\n\r\n\r\n<script setup lang=\"ts\">\r\nimport { defineAsyncComponent, h } from 'vue'\r\nimport { use } from 'echarts/core'\r\nimport { GraphChart } from 'echarts/charts'\r\nimport { CanvasRenderer } from 'echarts/renderers'\r\nimport { TooltipComponent } from 'echarts/components'\r\n\r\nuse([GraphChart, CanvasRenderer, TooltipComponent])\r\n\r\nconst VChart = defineAsyncComponent({\r\n  loader: () => (process.client ? import('vue-echarts') : Promise.resolve({ default: () => null })),\r\n  suspensible: false,\r\n  ssr: false,\r\n  loadingComponent: {\r\n    render() {\r\n      return h(\r\n        'div',\r\n        {\r\n          class:\r\n            'h-[420px] border border-dashed border-border/60 bg-background flex items-center justify-center text-xs text-muted-foreground',\r\n        },\r\n        '图谱加载中...'\r\n      )\r\n    },\r\n  },\r\n})\r\n\r\nconst { $api } = useNuxtApp()\r\nconst chartRef = ref<any>(null)\r\nconst graphData = ref({ nodes: [] as any[], links: [] as any[] })\r\nconst selectedNode = ref<any>(null)\r\nconst metadata = reactive({ nodes: 0, links: 0 })\r\nconst search = ref('')\r\nconst searchResults = ref<any[]>([])\r\nconst riskLevelLabels: Record<string, string> = {\r\n  high: '高风险',\r\n  medium: '中风险',\r\n  low: '低风险',\r\n}\r\nconst layoutMode = ref<'force' | 'circular'>('force')\r\nconst riskFilter = ref<'all' | 'high' | 'medium' | 'low'>('all')\r\nconst separationStrength = ref(70)\r\nconst graphZoom = ref(1)\r\nconst isLoading = ref(false)\r\nconst mobileFiltersOpen = ref(false)\r\nconst riskFilterOptions = [\r\n  { label: '全部', value: 'all' },\r\n  { label: '高风险', value: 'high' },\r\n  { label: '中风险', value: 'medium' },\r\n  { label: '低风险', value: 'low' },\r\n]\r\nconst layoutOptions = [\r\n  { label: '力导布局', value: 'force' },\r\n  { label: '环形布局', value: 'circular' },\r\n]\r\nconst NODE_PALETTE: Record<string, { fill: string; text: string; halo: string; stroke: string }> = {\r\n  high: { fill: '#09090b', text: '#f4f4f5', halo: 'rgba(9,9,11,0.45)', stroke: '#18181b' },\r\n  medium: { fill: '#f4f4f5', text: '#09090b', halo: 'rgba(24,24,27,0.08)', stroke: '#d4d4d8' },\r\n  low: { fill: '#e4e4e7', text: '#18181b', halo: 'rgba(24,24,27,0.06)', stroke: '#d4d4d8' },\r\n}\r\n\r\nconst normalizeRiskLevel = (candidates: any[], props: Record<string, any>) => {\r\n  const detectFromValue = (input: any) => {\r\n    const raw = (input ?? '').toString().trim()\r\n    if (!raw) return null\r\n    const lower = raw.toLowerCase()\r\n    if (['high', 'high-risk', 'risk-high', 'critical', 'severe'].includes(lower) || /高/.test(raw)) return 'high'\r\n    if (['low', 'low-risk', 'risk-low', 'minor'].includes(lower) || /低/.test(raw)) return 'low'\r\n    if (['medium', 'mid', 'moderate', 'middle'].includes(lower) || /中/.test(raw)) return 'medium'\r\n\r\n    const numeric = Number(raw)\r\n    if (!Number.isNaN(numeric)) {\r\n      if (numeric >= 0.66 || numeric >= 3) return 'high'\r\n      if (numeric <= 0.33 || numeric <= 1) return 'low'\r\n      return 'medium'\r\n    }\r\n    return null\r\n  }\r\n\r\n  for (const candidate of candidates) {\r\n    const resolved = detectFromValue(candidate)\r\n    if (resolved) return resolved\r\n  }\r\n\r\n  const numericFallbacks = [\r\n    props?.riskScore,\r\n    props?.score,\r\n    props?.risk_value,\r\n    props?.level,\r\n    props?.severityScore,\r\n    props?.importance,\r\n  ]\r\n  for (const candidate of numericFallbacks) {\r\n    const resolved = detectFromValue(candidate)\r\n    if (resolved) return resolved\r\n  }\r\n\r\n  return 'medium'\r\n}\r\n\r\nconst formatNodeLabel = (label: string) => {\r\n\r\n  const safeLabel = (label || '').trim()\r\n\r\n  if (safeLabel.length <= 4) return safeLabel || 'Node'\r\n\r\n  const chunk = safeLabel.length > 8 ? 5 : 4\r\n\r\n  const pattern = new RegExp(`.{1,${chunk}}`, 'g')\r\n\r\n  return safeLabel.match(pattern)?.join('\\n') ?? safeLabel\r\n\r\n}\r\n\r\n\r\n\r\nconst getNodeRadius = (label: string, riskLevel: string) => {\r\n  const base = 46 + Math.min(32, Math.max(0, (label || '').length - 4) * 3)\r\n  if (riskLevel === 'high') return base + 6\r\n  if (riskLevel === 'low') return base - 4\r\n  return base\r\n}\r\n\r\nconst clampZoom = (value: number) => Math.min(1.8, Math.max(0.65, value))\r\nconst getResponsiveFontSize = (base = 12) => Math.round(base * clampZoom(graphZoom.value || 1))\r\nconst getResponsiveLineHeight = (fontSize: number) => Math.round(fontSize * 1.2)\r\nconst closeMobileFilters = () => {\r\n  mobileFiltersOpen.value = false\r\n}\r\nconst ensureChartFits = async () => {\r\n  if (!process.client) return\r\n  await nextTick()\r\n  const instance = chartRef.value ? chartRef.value.chart : null\r\n  instance?.resize({ animation: false })\r\n}\r\n\r\nconst mapNode = (node: any) => {\r\n  const props = node.properties || {}\r\n  const riskLevel = normalizeRiskLevel(\r\n    [\r\n      props.riskLevel,\r\n      props.risk_level,\r\n      props.risk,\r\n      node.riskLevel,\r\n      node.risk_level,\r\n      props.riskCategory,\r\n      props.risk_category,\r\n      props.severity,\r\n      props.level,\r\n      props.riskScore,\r\n      props.score,\r\n    ],\r\n    props\r\n  )\r\n  const labelText = node.name || node.id\r\n  const palette = NODE_PALETTE[riskLevel] || NODE_PALETTE.medium\r\n  const radius = getNodeRadius(labelText, riskLevel)\r\n  const baseFontSize = 12\r\n\r\n  return {\r\n    name: node.id,\r\n    category: node.category || props.category || '未分类',\r\n    riskLevel,\r\n    value: node.value || 1,\r\n    draggable: true,\r\n    symbol: 'circle',\r\n    symbolSize: radius,\r\n    labelBaseSize: baseFontSize,\r\n    itemStyle: {\r\n      color: palette.fill,\r\n      borderColor: palette.stroke,\r\n      borderWidth: 2,\r\n      shadowBlur: 20,\r\n      shadowColor: palette.halo,\r\n    },\r\n    label: {\r\n      show: true,\r\n      color: palette.text,\r\n      fontWeight: 600,\r\n      fontSize: baseFontSize,\r\n      formatter: formatNodeLabel(labelText),\r\n      lineHeight: getResponsiveLineHeight(baseFontSize),\r\n      padding: [0, 6],\r\n    },\r\n    properties: props,\r\n  }\r\n}\r\n\r\nconst mapLink = (edge: any) => ({\r\n  source: edge.source,\r\n  target: edge.target,\r\n  value: edge.value || 1,\r\n  label:\r\n    edge.label || {\r\n      show: true,\r\n      formatter: edge.type || '关联',\r\n      backgroundColor: 'rgba(15,23,42,0.85)',\r\n      color: '#f8fafc',\r\n      padding: [2, 8],\r\n      borderRadius: 14,\r\n      fontSize: 11,\r\n      fontWeight: 500,\r\n    },\r\n  lineStyle:\r\n    edge.lineStyle || {\r\n      width: 1.1,\r\n      curveness: 0.24,\r\n      color: 'rgba(15,23,42,0.25)',\r\n      shadowBlur: 2,\r\n      shadowColor: 'rgba(15,23,42,0.2)',\r\n    },\r\n  properties: edge.properties || {},\r\n  type: edge.type || '',\r\n})\r\n\r\nconst filteredGraph = computed(() => {\r\n  if (riskFilter.value === 'all') {\r\n    return {\r\n      nodes: graphData.value.nodes.slice(),\r\n      links: graphData.value.links.slice(),\r\n    }\r\n  }\r\n  const nodes = graphData.value.nodes.filter((node: any) => node.riskLevel === riskFilter.value)\r\n  const allow = new Set(nodes.map((node: any) => node.name))\r\n  const links = graphData.value.links.filter((link: any) => allow.has(link.source) && allow.has(link.target))\r\n  return { nodes, links }\r\n})\r\n\r\nconst visibleGraph = computed(() => ({\r\n  nodes: filteredGraph.value.nodes.map((node: any) => {\r\n    const baseSize = node.labelBaseSize || 12\r\n    const scaledFont = getResponsiveFontSize(baseSize)\r\n    return {\r\n      ...node,\r\n      label: {\r\n        ...(node.label || {}),\r\n        fontSize: scaledFont,\r\n        lineHeight: getResponsiveLineHeight(scaledFont),\r\n      },\r\n    }\r\n  }),\r\n  links: filteredGraph.value.links,\r\n}))\r\n\r\nconst riskSummary = computed(() => {\r\n  const counts: Record<'high' | 'medium' | 'low', number> = { high: 0, medium: 0, low: 0 }\r\n  graphData.value.nodes.forEach((node: any) => {\r\n    const key = (node.riskLevel as 'high' | 'medium' | 'low') || 'medium'\r\n    counts[key] = (counts[key] || 0) + 1\r\n  })\r\n  const total = graphData.value.nodes.length || 1\r\n  return (['high', 'medium', 'low'] as const).map((key) => ({\r\n    key,\r\n    label: riskLevelLabels[key],\r\n    count: counts[key],\r\n    percent: Math.round((counts[key] / Math.max(total, 1)) * 100),\r\n    color: NODE_PALETTE[key].fill,\r\n  }))\r\n})\r\n\r\nconst selectedNodeNeighbors = computed(() => {\r\n  if (!selectedNode.value) return []\r\n  const neighborIds = new Set<string>()\r\n  graphData.value.links.forEach((link: any) => {\r\n    if (link.source === selectedNode.value.name) neighborIds.add(link.target)\r\n    if (link.target === selectedNode.value.name) neighborIds.add(link.source)\r\n  })\r\n  return graphData.value.nodes.filter((node: any) => neighborIds.has(node.name)).slice(0, 5)\r\n})\r\n\r\nconst chartOptions = computed(() => {\r\n  const dataset = visibleGraph.value\r\n  const repulsion = 360 + separationStrength.value * 6\r\n  const isCircular = layoutMode.value === 'circular'\r\n  return {\r\n    backgroundColor: 'transparent',\r\n    tooltip: {\r\n      formatter: (params: any) => (params.data && params.data.label) || params.name,\r\n    },\r\n    series: [\r\n      {\r\n        type: 'graph',\r\n        layout: isCircular ? 'circular' : 'force',\r\n        roam: true,\r\n        focusNodeAdjacency: true,\r\n        draggable: true,\r\n        scaleLimit: { min: 0.6, max: 2.2 },\r\n        circular: isCircular\r\n          ? {\r\n              rotateLabel: true,\r\n            }\r\n          : undefined,\r\n        force: isCircular\r\n          ? undefined\r\n          : {\r\n              repulsion,\r\n              edgeLength: [110, 190],\r\n              gravity: 0.035,\r\n              friction: 0.12,\r\n            },\r\n        edgeSymbol: ['circle', 'arrow'],\r\n        edgeSymbolSize: [6, 12],\r\n        lineStyle: {\r\n          color: 'rgba(24,24,27,0.4)',\r\n          width: 1.2,\r\n          opacity: 0.85,\r\n          curveness: 0.24,\r\n        },\r\n        label: {\r\n          show: false,\r\n        },\r\n        itemStyle: {\r\n          borderWidth: 0,\r\n        },\r\n        data: dataset.nodes,\r\n        links: dataset.links,\r\n        animationDuration: 1400,\r\n        animationEasingUpdate: 'cubicInOut',\r\n        emphasis: {\r\n          focus: 'adjacency',\r\n          scale: true,\r\n          lineStyle: {\r\n            width: 2,\r\n            color: '#09090b',\r\n            opacity: 0.95,\r\n          },\r\n        },\r\n      },\r\n    ],\r\n  }\r\n})\r\n\r\nconst bindGraphEvents = () => {\r\n  const instance = chartRef.value ? chartRef.value.chart : null\r\n  if (!instance) return\r\n  instance.off('click')\r\n  instance.off('dblclick')\r\n  instance.off('graphRoam')\r\n  instance.on('click', (params: any) => {\r\n    if (params.dataType === 'node') {\r\n      selectedNode.value = params.data\r\n    }\r\n  })\r\n  instance.on('dblclick', async (params: any) => {\r\n    if (params.dataType === 'node' && params.data?.name) {\r\n      await focusNode(params.data.name)\r\n    }\r\n  })\r\n  instance.on('graphRoam', (params: any) => {\r\n    if (typeof params.zoom === 'number' && !Number.isNaN(params.zoom)) {\r\n      graphZoom.value = clampZoom(params.zoom)\r\n    }\r\n  })\r\n}\r\n\r\nconst loadGraph = async () => {\r\n  try {\r\n    isLoading.value = true\r\n    const response = await $api.get('/graph/initial/', { params: { limit: 80 } })\r\n    const graph = response.data.graph || { nodes: [], links: [] }\r\n    graphData.value = {\r\n      nodes: graph.nodes.map(mapNode),\r\n      links: graph.links.map(mapLink),\r\n    }\r\n    metadata.nodes = (graph.counts && graph.counts.nodes) || graph.nodes.length\r\n    metadata.links = (graph.counts && graph.counts.links) || graph.links.length\r\n    selectedNode.value = null\r\n    graphZoom.value = 1\r\n    await nextTick()\r\n    bindGraphEvents()\r\n    await ensureChartFits()\r\n  } finally {\r\n    isLoading.value = false\r\n  }\r\n}\r\n\r\nconst runSearch = async () => {\r\n  const query = search.value.trim()\r\n  if (!query) {\r\n    searchResults.value = []\r\n    return\r\n  }\r\n  try {\r\n    const response = await $api.get('/graph/search/universal/', { params: { query } })\r\n    searchResults.value = response.data.nodes ? response.data.nodes.slice(0, 5) : []\r\n  } catch (error) {\r\n    console.error('Failed to search graph', error)\r\n    searchResults.value = []\r\n  }\r\n}\r\n\r\nconst focusNode = async (nodeId: string) => {\r\n  if (!nodeId) return\r\n  try {\r\n    const response = await $api.get(`/graph/node/${nodeId}/expand/`, { params: { limit: 30 } })\r\n    const graph = response.data.graph || response.data\r\n    graphData.value = {\r\n      nodes: graph.nodes.map(mapNode),\r\n      links: graph.links.map(mapLink),\r\n    }\r\n    selectedNode.value = graphData.value.nodes.find((node) => node.name === nodeId) || null\r\n    searchResults.value = []\r\n    await nextTick()\r\n    bindGraphEvents()\r\n    await ensureChartFits()\r\n  } catch (error) {\r\n    console.error('Failed to focus node', error)\r\n  }\r\n}\r\n\r\nconst applyRiskFilter = (value: 'all' | 'high' | 'medium' | 'low') => {\r\n  riskFilter.value = value\r\n}\r\nconst highlightRisk = (level: 'high' | 'medium' | 'low') => {\r\n  riskFilter.value = level\r\n}\r\nconst boostSeparation = () => {\r\n  separationStrength.value = Math.min(100, separationStrength.value + 10)\r\n}\r\nconst downloadGraphImage = () => {\r\n  if (!process.client) return\r\n  const instance = chartRef.value ? chartRef.value.chart : null\r\n  if (!instance) return\r\n  const url = instance.getDataURL({ type: 'png', pixelRatio: 2, backgroundColor: '#ffffff' })\r\n  const anchor = document.createElement('a')\r\n  anchor.href = url\r\n  anchor.download = `graph-${Date.now()}.png`\r\n  anchor.click()\r\n}\r\nconst resetGraphView = () => {\r\n  riskFilter.value = 'all'\r\n  separationStrength.value = 70\r\n  layoutMode.value = 'force'\r\n  graphZoom.value = 1\r\n  loadGraph()\r\n}\r\n\r\nwatch(riskFilter, (value) => {\r\n  if (value === 'all') return\r\n  if (selectedNode.value && selectedNode.value.riskLevel !== value) {\r\n    selectedNode.value = null\r\n  }\r\n})\r\n\r\nonMounted(loadGraph)\r\n</script>\r\n\r\n\r\n\r\n"],"names":["$attrs","_unref","_ssrRenderAttrs","_mergeProps","_push","_parent","_createVNode","_ssrRenderComponent","_","_scopeId","_ssrInterpolate","_ssrRenderList","_ssrRenderStyle","_createTextVNode","_toDisplayString","_createBlock","_Fragment","_renderList","_openBlock"],"mappings":"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"}