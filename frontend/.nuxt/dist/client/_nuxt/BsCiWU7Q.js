import{k as c}from"./C4cmwJeW.js";import{u as e}from"./DzNSn88N.js";const v=()=>{const{$api:r}=c(),n=e("mvp-user-stats",()=>null),o=e("mvp-quiz-stats",()=>null),a=e("mvp-stats-syncing",()=>!1),u=async()=>{const{data:t}=await r.get("/users/stats/");return n.value=t,t},l=async()=>{const t=await r.get("/quiz/stats/"),s={level_stats:t.data.level_stats??{},recent_attempts:t.data.recent_attempts??[],total_attempts:t.data.total_attempts??0,average_score:t.data.average_score??0,best_score:t.data.best_score??0};return o.value=s,s};return{userStats:n,quizStats:o,syncing:a,refreshUserStats:u,refreshQuizStats:l,refreshAllStats:async()=>{a.value=!0;try{const[t,s]=await Promise.all([u(),l()]);return{user:t,quiz:s}}finally{a.value=!1}}}};export{v as u};
